<!doctype html>
<html>
  <head>
    <script src="bundle.js"></script>
    <script>
      localStorage.debug = 'pubsub*'
      var ps1 = new PubSub('cats')
      var ps2 = new PubSub('cats')
      ps1.on('message', function (message) {
        ps1.publish('REEE')
      })
      ps2.publish('HEEELLLO')
      // var cp1 = new PubSub.ConnectionPool('myid1')
      // var cp2 = new PubSub.ConnectionPool('myid2')

      // cp1.discover('cats', function (err) {
      //     cp2.discover('cats', function (err, onlineIDs) {
      //         var conn = cp2.connect(onlineIDs[0], function (err, conn) {
      //             conn.send('heelo')
      //         })

      //     })
      // })

      // var peer1 = new Peer({ initiator: true })
      // var peer2 = new Peer()
      // 
      // peer1.on('signal', function (data) {
      //   // when peer1 has signaling data, give it to peer2 somehow
      //   peer2.signal(data)
      // })
      // 
      // peer2.on('signal', function (data) {
      //   // when peer2 has signaling data, give it to peer1 somehow
      //   peer1.signal(data)
      // })
      // 
      // peer1.on('connect', function () {
      //   // wait for 'connect' event before using the data channel
      //   peer1.send('hey peer2, how is it going?')
      // })
      // 
      // peer2.on('data', function (data) {
      //   // got a data channel message
      //   console.log('got a message from peer1: ' + data)
      // })
    </script>
  </head>
  <body>
  </body>
</html>
